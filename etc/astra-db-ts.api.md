## API Report File for "@datastax/astra-db-ts"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { AxiosError } from 'axios';
import { AxiosResponse } from 'axios';
import TypedEmitter from 'typed-emitter';

// @public
export type AdminBlockingOptions = PollBlockingOptions | NoBlockingOptions;

// @public
export abstract class AdminCommandEvent {
    // Warning: (ae-incompatible-release-tags) The symbol "__constructor" is marked as @public, but its signature references "DevOpsAPIRequestInfo" which is marked as @internal
    protected constructor(info: DevOpsAPIRequestInfo, longRunning: boolean);
    readonly longRunning: boolean;
    readonly method: string;
    readonly params?: Record<string, any>;
    readonly path: string;
    readonly reqBody?: Record<string, any>;
}

// @public
export type AdminCommandEvents = {
    adminCommandStarted: (event: AdminCommandStartedEvent) => void;
    adminCommandPolling: (event: AdminCommandPollingEvent) => void;
    adminCommandSucceeded: (event: AdminCommandSucceededEvent) => void;
    adminCommandFailed: (event: AdminCommandFailedEvent) => void;
};

// @public
export class AdminCommandFailedEvent extends AdminCommandEvent {
    // Warning: (ae-incompatible-release-tags) The symbol "__constructor" is marked as @public, but its signature references "DevOpsAPIRequestInfo" which is marked as @internal
    constructor(info: DevOpsAPIRequestInfo, longRunning: boolean, error: Error, started: number);
    readonly duration: number;
    readonly error: Error;
}

// @public
export class AdminCommandPollingEvent extends AdminCommandEvent {
    // Warning: (ae-incompatible-release-tags) The symbol "__constructor" is marked as @public, but its signature references "DevOpsAPIRequestInfo" which is marked as @internal
    constructor(info: DevOpsAPIRequestInfo, started: number, interval: number);
    readonly elapsed: number;
    readonly interval: number;
}

// @public
export class AdminCommandStartedEvent extends AdminCommandEvent {
    // Warning: (ae-incompatible-release-tags) The symbol "__constructor" is marked as @public, but its signature references "DevOpsAPIRequestInfo" which is marked as @internal
    constructor(info: DevOpsAPIRequestInfo, longRunning: boolean, timeout: number);
    readonly timeout: number;
}

// @public
export class AdminCommandSucceededEvent extends AdminCommandEvent {
    // Warning: (ae-incompatible-release-tags) The symbol "__constructor" is marked as @public, but its signature references "DevOpsAPIRequestInfo" which is marked as @internal
    constructor(info: DevOpsAPIRequestInfo, longRunning: boolean, resp: AxiosResponse, started: number);
    readonly duration: number;
    readonly resBody?: Record<string, any>;
}

// @public
export interface AdminSpawnOptions {
    adminToken?: string;
    endpointUrl?: string;
    monitorCommands?: boolean;
}

// @public (undocumented)
export type AnyBulkWriteOperation<TSchema extends SomeDoc> = {
    insertOne: InsertOneModel<TSchema>;
} | {
    replaceOne: ReplaceOneModel<TSchema>;
} | {
    updateOne: UpdateOneModel<TSchema>;
} | {
    updateMany: UpdateManyModel<TSchema>;
} | {
    deleteOne: DeleteOneModel<TSchema>;
} | {
    deleteMany: DeleteManyModel<TSchema>;
};

// @public
export class AstraAdmin {
    // Warning: (ae-forgotten-export) The symbol "AdminOptions" needs to be exported by the entry point index.d.ts
    //
    // @internal
    constructor(options: AdminOptions);
    createDatabase(config: DatabaseConfig, options?: CreateDatabaseOptions): Promise<AstraDbAdmin>;
    db(endpoint: string, options?: DbSpawnOptions): Db;
    db(id: string, region: string, options?: DbSpawnOptions): Db;
    dbAdmin(endpoint: string, options?: DbSpawnOptions): AstraDbAdmin;
    dbAdmin(id: string, region: string, options?: DbSpawnOptions): AstraDbAdmin;
    dropDatabase(db: Db | string, options?: AdminBlockingOptions): Promise<void>;
    listDatabases(options?: ListDatabasesOptions): Promise<FullDatabaseInfo[]>;
}

// @public
export class AstraDbAdmin extends DbAdmin {
    // @internal
    constructor(_db: Db, httpClient: HttpClient, options: InternalRootClientOpts['adminOptions']);
    createNamespace(namespace: string, options?: AdminBlockingOptions): Promise<void>;
    db(): Db;
    drop(options?: AdminBlockingOptions): Promise<void>;
    dropNamespace(namespace: string, options?: AdminBlockingOptions): Promise<void>;
    get id(): string;
    info(options?: WithTimeout): Promise<FullDatabaseInfo>;
    listNamespaces(options?: WithTimeout): Promise<string[]>;
}

// @public
export class BulkWriteError extends CumulativeDataAPIError {
    // (undocumented)
    name: string;
    // (undocumented)
    readonly partialResult: BulkWriteResult<SomeDoc>;
}

// @public
export type BulkWriteOptions = BulkWriteOrderedOptions | BulkWriteUnorderedOptions;

// @public
export interface BulkWriteOrderedOptions extends WithTimeout {
    ordered: true;
}

// @public (undocumented)
export class BulkWriteResult<Schema extends SomeDoc> {
    constructor(deletedCount?: number, insertedCount?: number, matchedCount?: number, modifiedCount?: number, upsertedCount?: number, upsertedIds?: Record<number, IdOf<Schema>>, _raw?: object[]);
    // (undocumented)
    readonly deletedCount: number;
    // (undocumented)
    getRawResponse(): Record<string, any>[];
    // (undocumented)
    getUpsertedIdAt(index: number): IdOf<Schema>;
    // (undocumented)
    readonly insertedCount: number;
    // (undocumented)
    readonly matchedCount: number;
    // (undocumented)
    readonly modifiedCount: number;
    // (undocumented)
    readonly upsertedCount: number;
    // (undocumented)
    readonly upsertedIds: Record<number, IdOf<Schema>>;
}

// @public
export interface BulkWriteUnorderedOptions extends WithTimeout {
    concurrency?: number;
    ordered?: false;
}

// @public
export type Caller = [name: string, version?: string];

// Warning: (ae-internal-missing-underscore) The name "CLIENT_USER_AGENT" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const CLIENT_USER_AGENT: string;

// @public
export class Collection<Schema extends SomeDoc = SomeDoc> {
    // @internal
    constructor(db: Db, httpClient: DataAPIHttpClient, name: string, namespace: string | undefined);
    bulkWrite(operations: AnyBulkWriteOperation<Schema>[], options?: BulkWriteOptions): Promise<BulkWriteResult<Schema>>;
    readonly collectionName: string;
    countDocuments(filter: Filter<Schema>, upperBound: number, options?: WithTimeout): Promise<number>;
    deleteAll(options?: WithTimeout): Promise<void>;
    deleteMany(filter?: Filter<Schema>, options?: WithTimeout): Promise<DeleteManyResult>;
    deleteOne(filter?: Filter<Schema>, options?: DeleteOneOptions): Promise<DeleteOneResult>;
    distinct<Key extends string, GetSim extends boolean = false>(key: Key, filter?: Filter<Schema>): Promise<Flatten<(SomeDoc & ToDotNotation<FoundDoc<Schema, GetSim>>)[Key]>[]>;
    drop(options?: WithTimeout): Promise<boolean>;
    find<GetSim extends boolean = false>(filter: Filter<Schema>, options?: FindOptions<GetSim>): FindCursor<FoundDoc<Schema, GetSim>, FoundDoc<Schema, GetSim>>;
    findOne<GetSim extends boolean = false>(filter: Filter<Schema>, options?: FindOneOptions<GetSim>): Promise<FoundDoc<Schema, GetSim> | null>;
    findOneAndDelete(filter: Filter<Schema>, options: FindOneAndDeleteOptions & {
        includeResultMetadata: true;
    }): Promise<ModifyResult<Schema>>;
    findOneAndDelete(filter: Filter<Schema>, options?: FindOneAndDeleteOptions & {
        includeResultMetadata?: false;
    }): Promise<WithId<Schema> | null>;
    findOneAndReplace(filter: Filter<Schema>, replacement: NoId<Schema>, options: FindOneAndReplaceOptions & {
        includeResultMetadata: true;
    }): Promise<ModifyResult<Schema>>;
    findOneAndReplace(filter: Filter<Schema>, replacement: NoId<Schema>, options: FindOneAndReplaceOptions & {
        includeResultMetadata?: false;
    }): Promise<WithId<Schema> | null>;
    findOneAndUpdate(filter: Filter<Schema>, update: UpdateFilter<Schema>, options: FindOneAndUpdateOptions & {
        includeResultMetadata: true;
    }): Promise<ModifyResult<Schema>>;
    findOneAndUpdate(filter: Filter<Schema>, update: UpdateFilter<Schema>, options: FindOneAndUpdateOptions & {
        includeResultMetadata?: false;
    }): Promise<WithId<Schema> | null>;
    insertMany(documents: MaybeId<Schema>[], options?: InsertManyOptions): Promise<InsertManyResult<Schema>>;
    insertOne(document: MaybeId<Schema>, options?: InsertOneOptions): Promise<InsertOneResult<Schema>>;
    readonly namespace: string;
    options(options?: WithTimeout): Promise<CollectionOptions<SomeDoc>>;
    replaceOne(filter: Filter<Schema>, replacement: NoId<Schema>, options?: ReplaceOneOptions): Promise<ReplaceOneResult<Schema>>;
    updateMany(filter: Filter<Schema>, update: UpdateFilter<Schema>, options?: UpdateManyOptions): Promise<UpdateManyResult<SomeDoc>>;
    updateOne(filter: Filter<Schema>, update: UpdateFilter<Schema>, options?: UpdateOneOptions): Promise<UpdateOneResult<Schema>>;
}

// @public (undocumented)
export class CollectionAlreadyExistsError extends DataAPIError {
    constructor(namespace: string, collectionName: string);
    // (undocumented)
    readonly collectionName: string;
    // (undocumented)
    readonly namespace: string;
}

// @public
export interface CollectionOptions<Schema extends SomeDoc> {
    defaultId?: DefaultIdOptions;
    indexing?: IndexingOptions<Schema>;
    vector?: VectorOptions;
}

// @public
export abstract class CommandEvent {
    // Warning: (ae-incompatible-release-tags) The symbol "__constructor" is marked as @public, but its signature references "DataAPIRequestInfo" which is marked as @internal
    protected constructor(info: DataAPIRequestInfo);
    readonly collection?: string;
    readonly command: Record<string, any>;
    readonly commandName: string;
    readonly namespace: string;
    readonly url: string;
}

// @public
export class CommandFailedEvent extends CommandEvent {
    // Warning: (ae-incompatible-release-tags) The symbol "__constructor" is marked as @public, but its signature references "DataAPIRequestInfo" which is marked as @internal
    constructor(info: DataAPIRequestInfo, error: Error, started: number);
    readonly duration: number;
    readonly error: Error;
}

// @public
export class CommandStartedEvent extends CommandEvent {
    // Warning: (ae-incompatible-release-tags) The symbol "__constructor" is marked as @public, but its signature references "DataAPIRequestInfo" which is marked as @internal
    constructor(info: DataAPIRequestInfo);
    readonly timeout: number;
}

// @public
export class CommandSucceededEvent extends CommandEvent {
    // Warning: (ae-incompatible-release-tags) The symbol "__constructor" is marked as @public, but its signature references "DataAPIRequestInfo" which is marked as @internal
    constructor(info: DataAPIRequestInfo, reply: RawDataAPIResponse, started: number);
    readonly duration: number;
    readonly resp?: RawDataAPIResponse;
}

// Warning: (ae-internal-missing-underscore) The name "CreateCollectionCommand" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface CreateCollectionCommand {
    // (undocumented)
    createCollection: {
        name: string;
        options: CollectionOptions<SomeDoc>;
    };
}

// @public
export interface CreateCollectionOptions<Schema extends SomeDoc> extends WithTimeout, CollectionOptions<Schema>, WithNamespace {
    checkExists?: boolean;
}

// @public (undocumented)
export type CreateDatabaseOptions = AdminBlockingOptions & {
    dbOptions?: DbSpawnOptions;
};

// @public
export abstract class CumulativeDataAPIError extends DataAPIResponseError {
    readonly partialResult: unknown;
}

// @public
export class CursorAlreadyInitializedError extends DataAPIError {
    constructor(message: string);
}

// Warning: (ae-forgotten-export) The symbol "DataAPIClient_base" needs to be exported by the entry point index.d.ts
//
// @public
export class DataAPIClient extends DataAPIClient_base {
    constructor(token: string, options?: RootClientOptions | null);
    admin(options?: AdminSpawnOptions): AstraAdmin;
    db(endpoint: string, options?: DbSpawnOptions): Db;
    db(id: string, region: string, options?: DbSpawnOptions): Db;
}

// @public (undocumented)
export type DataAPIClientEvents = DataAPICommandEvents & AdminCommandEvents;

// @public
export type DataAPICommandEvents = {
    commandStarted: (event: CommandStartedEvent) => void;
    commandSucceeded: (event: CommandSucceededEvent) => void;
    commandFailed: (event: CommandFailedEvent) => void;
};

// @public
export interface DataAPIDetailedErrorDescriptor {
    readonly command: Record<string, any>;
    readonly errorDescriptors: DataAPIErrorDescriptor[];
    readonly rawResponse: RawDataAPIResponse;
}

// @public
export abstract class DataAPIError extends Error {
}

// @public
export interface DataAPIErrorDescriptor {
    readonly attributes?: Record<string, any>;
    readonly errorCode?: string;
    readonly message?: string;
}

// Warning: (ae-internal-missing-underscore) The name "DataAPIHttpClient" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export class DataAPIHttpClient extends HttpClient {
    // (undocumented)
    collection?: string;
    // Warning: (ae-forgotten-export) The symbol "ExecuteCommandOptions" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    executeCommand(command: Record<string, any>, options: ExecuteCommandOptions | undefined): Promise<RawDataAPIResponse>;
    // (undocumented)
    namespace?: string;
    // Warning: (ae-forgotten-export) The symbol "TimeoutManager" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    timeoutManager(timeoutMs: number | undefined): TimeoutManager;
}

// Warning: (ae-internal-missing-underscore) The name "DataAPIRequestInfo" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface DataAPIRequestInfo {
    // (undocumented)
    collection?: string;
    // (undocumented)
    command: Record<string, any>;
    // (undocumented)
    namespace?: string;
    // (undocumented)
    timeoutManager: TimeoutManager;
    // (undocumented)
    url: string;
}

// @public
export class DataAPIResponseError extends DataAPIError {
    constructor(message: string, errorDescriptors: DataAPIErrorDescriptor[], detailedErrorDescriptors: DataAPIDetailedErrorDescriptor[]);
    readonly detailedErrorDescriptors: DataAPIDetailedErrorDescriptor[];
    readonly errorDescriptors: DataAPIErrorDescriptor[];
    readonly message: string;
}

// @public (undocumented)
export class DataAPITimeout extends DataAPIError {
    constructor(timeout: number);
    // (undocumented)
    readonly timeout: number;
}

// @public (undocumented)
export type DatabaseAction = 'park' | 'unpark' | 'resize' | 'resetPassword' | 'addKeyspace' | 'addDatacenters' | 'terminateDatacenter' | 'getCreds' | 'terminate' | 'removeKeyspace' | 'removeMigrationProxy' | 'launchMigrationProxy';

// @public (undocumented)
export type DatabaseCloudProvider = 'AWS' | 'GCP' | 'AZURE';

// @public (undocumented)
export type DatabaseCloudProviderFilter = DatabaseCloudProvider | 'ALL';

// @public
export interface DatabaseConfig {
    cloudProvider?: DatabaseCloudProvider;
    name: string;
    namespace?: string;
    region: string;
}

// @public
export interface DatabaseInfo {
    additionalKeyspaces?: string[];
    capacityUnits: number;
    cloudProvider?: DatabaseCloudProvider;
    dbType?: 'vector';
    keyspace?: string;
    name: string;
    password: string;
    region: string;
    tier: DatabaseTier;
    user: string;
}

// @public (undocumented)
export type DatabaseStatus = 'ACTIVE' | 'PENDING' | 'PREPARING' | 'PREPARED' | 'INITIALIZING' | 'PARKED' | 'PARKING' | 'UNPARKING' | 'TERMINATED' | 'TERMINATING' | 'RESIZING' | 'ERROR' | 'MAINTENANCE' | 'SUSPENDED' | 'UNKNOWN';

// @public (undocumented)
export type DatabaseStatusFilter = DatabaseStatus | 'ALL' | 'NONTERMINATED';

// @public
export interface DatabaseStorageInfo {
    nodeCount: number;
    replicationFactor: number;
    totalStorage: number;
    usedStorage?: number;
}

// @public (undocumented)
export type DatabaseTier = 'developer' | 'A5' | 'A10' | 'A20' | 'A40' | 'C10' | 'C20' | 'C40' | 'D10' | 'D20' | 'D40' | 'serverless';

// @public
export class Db implements Disposable {
    [Symbol.dispose](): void;
    // @internal
    constructor(endpoint: string, options: InternalRootClientOpts);
    admin(options?: AdminSpawnOptions): AstraDbAdmin;
    close(): void;
    collection<Schema extends SomeDoc = SomeDoc>(name: string, options?: WithNamespace): Collection<Schema>;
    collections(options?: WithNamespace & WithTimeout): Promise<Collection[]>;
    command(command: Record<string, any>, options?: RunCommandOptions): Promise<RawDataAPIResponse>;
    createCollection<Schema extends SomeDoc = SomeDoc>(collectionName: string, options?: CreateCollectionOptions<Schema>): Promise<Collection<Schema>>;
    dropCollection(name: string, options?: DropCollectionOptions): Promise<boolean>;
    // (undocumented)
    httpStrategy(): 'http1' | 'http2';
    get id(): string;
    info(options?: WithTimeout): Promise<DatabaseInfo>;
    isClosed(): boolean | undefined;
    listCollections(options: ListCollectionsOptions & {
        nameOnly: true;
    }): Promise<string[]>;
    listCollections(options?: ListCollectionsOptions & {
        nameOnly?: false;
    }): Promise<FullCollectionInfo[]>;
    readonly namespace: string;
}

// @public
export abstract class DbAdmin {
    // (undocumented)
    abstract createNamespace(namespace: string, options?: AdminBlockingOptions): Promise<void>;
    abstract db(): Db;
    // (undocumented)
    abstract dropNamespace(namespace: string, options?: AdminBlockingOptions): Promise<void>;
    // (undocumented)
    abstract listNamespaces(): Promise<string[]>;
}

// @public
export interface DbSpawnOptions {
    dataApiPath?: string;
    monitorCommands?: boolean;
    namespace?: string;
    token?: string;
    useHttp2?: boolean;
}

// Warning: (ae-internal-missing-underscore) The name "DEFAULT_DATA_API_AUTH_HEADER" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const DEFAULT_DATA_API_AUTH_HEADER = "Token";

// Warning: (ae-internal-missing-underscore) The name "DEFAULT_DATA_API_PATH" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const DEFAULT_DATA_API_PATH = "api/json/v1";

// Warning: (ae-internal-missing-underscore) The name "DEFAULT_DEVOPS_API_AUTH_HEADER" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const DEFAULT_DEVOPS_API_AUTH_HEADER = "Authorization";

// Warning: (ae-internal-missing-underscore) The name "DEFAULT_DEVOPS_API_ENDPOINT" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const DEFAULT_DEVOPS_API_ENDPOINT = "https://api.astra.datastax.com/v2";

// Warning: (ae-internal-missing-underscore) The name "DEFAULT_NAMESPACE" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const DEFAULT_NAMESPACE = "default_keyspace";

// Warning: (ae-internal-missing-underscore) The name "DEFAULT_TIMEOUT" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const DEFAULT_TIMEOUT = 30000;

// @public
export interface DefaultIdOptions {
    type: 'uuid' | 'uuidv6' | 'uuidv7' | 'objectId';
}

// Warning: (ae-internal-missing-underscore) The name "DeleteManyCommand" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface DeleteManyCommand {
    // (undocumented)
    deleteMany: {
        filter: Record<string, unknown>;
    };
}

// @public
export class DeleteManyError extends CumulativeDataAPIError {
    // (undocumented)
    name: string;
    // (undocumented)
    readonly partialResult: DeleteManyResult;
}

// @public (undocumented)
export interface DeleteManyModel<TSchema extends SomeDoc> {
    // (undocumented)
    filter: Filter<TSchema>;
}

// @public
export interface DeleteManyResult {
    deletedCount: number;
}

// Warning: (ae-internal-missing-underscore) The name "DeleteOneCommand" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface DeleteOneCommand {
    // (undocumented)
    deleteOne: {
        filter: Record<string, unknown>;
        sort?: Sort;
    };
}

// @public (undocumented)
export interface DeleteOneModel<TSchema extends SomeDoc> {
    // (undocumented)
    filter: Filter<TSchema>;
}

// @public
export interface DeleteOneOptions extends WithTimeout {
    sort?: Sort;
    vector?: number[];
    // @alpha (undocumented)
    vectorize?: string;
}

// @public
export interface DeleteOneResult {
    deletedCount: 0 | 1;
}

// @public (undocumented)
export abstract class DevOpsAPIError extends Error {
}

// @public (undocumented)
export interface DevOpsAPIErrorDescriptor {
    // (undocumented)
    ID?: number;
    // (undocumented)
    message: string;
}

// Warning: (ae-internal-missing-underscore) The name "DevOpsAPIHttpClient" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export class DevOpsAPIHttpClient extends HttpClient {
    constructor(props: HTTPClientOptions);
    // Warning: (ae-forgotten-export) The symbol "TimeoutOptions" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    request(req: DevOpsAPIRequestInfo, options: TimeoutOptions | undefined, started?: number): Promise<AxiosResponse>;
    // (undocumented)
    requestLongRunning(req: DevOpsAPIRequestInfo, info: LongRunningRequestInfo): Promise<AxiosResponse>;
}

// Warning: (ae-internal-missing-underscore) The name "DevOpsAPIRequestInfo" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface DevOpsAPIRequestInfo {
    // (undocumented)
    data?: Record<string, any>;
    // (undocumented)
    method: HttpMethodStrings;
    // (undocumented)
    params?: Record<string, any>;
    // (undocumented)
    path: string;
}

// @public (undocumented)
export class DevOpsAPIResponseError extends DevOpsAPIError {
    constructor(error: AxiosError);
    // (undocumented)
    readonly errors: DevOpsAPIErrorDescriptor[];
    // (undocumented)
    readonly rootError: AxiosError;
    // (undocumented)
    readonly status?: number;
}

// @public (undocumented)
export class DevOpsAPITimeout extends DataAPIError {
    constructor(url: string, timeout: number);
    // (undocumented)
    readonly timeout: number;
    // (undocumented)
    readonly url: string;
}

// @public (undocumented)
export class DevOpsUnexpectedStateError extends DevOpsAPIError {
    constructor(message: string, raw?: AxiosResponse);
    // (undocumented)
    readonly rawResponse?: AxiosResponse;
    // (undocumented)
    readonly status?: number;
}

// @public
export interface DropCollectionOptions extends WithTimeout, WithNamespace {
}

// Warning: (ae-internal-missing-underscore) The name "extractDbIdFromUrl" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function extractDbIdFromUrl(uri: string): string | undefined;

// Warning: (ae-forgotten-export) The symbol "FilterExpr" needs to be exported by the entry point index.d.ts
//
// @public
export type Filter<Schema extends SomeDoc> = {
    [K in keyof NoId<Schema>]?: FilterExpr<NoId<Schema>[K]>;
} & {
    _id?: FilterExpr<IdOf<Schema>>;
    $and?: Filter<Schema>[];
    $or?: Filter<Schema>[];
    $not?: Filter<Schema>;
} & {
    [key: string]: any;
};

// @public
export class FindCursor<T, TRaw extends SomeDoc = SomeDoc> {
    [Symbol.asyncIterator](): AsyncGenerator<T, void, void>;
    // Warning: (ae-incompatible-release-tags) The symbol "__constructor" is marked as @public, but its signature references "DataAPIHttpClient" which is marked as @internal
    constructor(namespace: string, httpClient: DataAPIHttpClient, filter: Filter<SomeDoc>, options?: FindOptions<boolean>);
    // (undocumented)
    bufferedCount(): number;
    clone(): FindCursor<TRaw, TRaw>;
    close(): Promise<void>;
    // (undocumented)
    get closed(): boolean;
    filter(filter: Filter<TRaw>): FindCursor<T, TRaw>;
    // @deprecated
    forEach(consumer: (doc: T) => boolean | void): Promise<void>;
    hasNext(): Promise<boolean>;
    includeSimilarity(includeSimilarity?: boolean): FindCursor<T, TRaw>;
    limit(limit: number): FindCursor<T, TRaw>;
    map<R>(mapping: (doc: T) => R): FindCursor<R, TRaw>;
    // (undocumented)
    get namespace(): string;
    next(): Promise<T | null>;
    project<R = any, RRaw extends SomeDoc = SomeDoc>(projection: Projection): FindCursor<R, RRaw>;
    readBufferedDocuments(max?: number): TRaw[];
    rewind(): void;
    skip(skip: number): FindCursor<T, TRaw>;
    sort(sort: Sort): FindCursor<T, TRaw>;
    toArray(): Promise<T[]>;
}

// Warning: (ae-internal-missing-underscore) The name "FindOneAndDeleteCommand" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface FindOneAndDeleteCommand {
    // (undocumented)
    findOneAndDelete: {
        filter?: Record<string, unknown>;
        sort?: Sort;
        projection?: Projection;
    };
}

// @public
export interface FindOneAndDeleteOptions extends WithTimeout {
    includeResultMetadata?: boolean;
    projection?: Projection;
    sort?: Sort;
    vector?: number[];
    // @alpha (undocumented)
    vectorize?: string;
}

// Warning: (ae-internal-missing-underscore) The name "FindOneAndReplaceCommand" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface FindOneAndReplaceCommand {
    // (undocumented)
    findOneAndReplace: {
        filter: Record<string, unknown>;
        replacement: Record<string, unknown>;
        options?: {
            returnDocument: 'before' | 'after';
            upsert?: boolean;
        };
        sort?: Sort;
        projection?: Projection;
    };
}

// @public
export interface FindOneAndReplaceOptions extends WithTimeout {
    includeResultMetadata?: boolean;
    projection?: Projection;
    returnDocument: 'before' | 'after';
    sort?: Sort;
    upsert?: boolean;
    vector?: number[];
    // @alpha (undocumented)
    vectorize?: string;
}

// Warning: (ae-internal-missing-underscore) The name "FindOneAndUpdateCommand" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface FindOneAndUpdateCommand {
    // (undocumented)
    findOneAndUpdate: {
        filter?: Record<string, unknown>;
        update?: Record<string, any>;
        options?: {
            returnDocument: 'before' | 'after';
            upsert?: boolean;
        };
        sort?: Sort;
        projection?: Projection;
    };
}

// @public
export interface FindOneAndUpdateOptions extends WithTimeout {
    includeResultMetadata?: boolean;
    projection?: Projection;
    returnDocument: 'before' | 'after';
    sort?: Sort;
    upsert?: boolean;
    vector?: number[];
    // @alpha (undocumented)
    vectorize?: string;
}

// Warning: (ae-internal-missing-underscore) The name "FindOneCommand" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface FindOneCommand {
    // (undocumented)
    findOne: {
        filter: Record<string, unknown>;
        sort?: Sort;
        projection?: Projection;
        options?: {
            includeSimilarity?: boolean;
        };
    };
}

// @public
export interface FindOneOptions<GetSim extends boolean> extends WithTimeout {
    includeSimilarity?: GetSim;
    projection?: Projection;
    sort?: Sort;
    vector?: number[];
    // @alpha (undocumented)
    vectorize?: string;
}

// @public
export interface FindOptions<GetSim extends boolean> {
    includeSimilarity?: GetSim;
    limit?: number;
    projection?: Projection;
    skip?: number;
    sort?: Sort;
    vector?: number[];
    // @alpha (undocumented)
    vectorize?: string;
}

// @public
export type Flatten<Type> = Type extends (infer Item)[] ? Item : Type;

// @public
export type FoundDoc<Doc, GetSim extends boolean> = WithSim<WithId<Doc>, GetSim>;

// @public
export interface FullCollectionInfo {
    name: string;
    options: CollectionOptions<SomeDoc>;
}

// @public
export interface FullDatabaseInfo {
    availableActions?: DatabaseAction[];
    cqlshUrl?: string;
    creationTime?: string;
    dataEndpointUrl?: string;
    grafanaUrl?: string;
    graphqlUrl?: string;
    id: string;
    info: DatabaseInfo;
    message?: string;
    orgId: string;
    ownerId: string;
    status: DatabaseStatus;
    storage?: DatabaseStorageInfo;
    terminationTime?: string;
}

// Warning: (ae-internal-missing-underscore) The name "GuaranteedAPIResponse" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface GuaranteedAPIResponse {
    // (undocumented)
    data?: Record<string, any>;
    // (undocumented)
    headers: Record<string, string>;
    // (undocumented)
    status: number;
}

// @public
export interface GuaranteedUpdateOptions<N extends number> {
    matchedCount: N;
    modifiedCount: N;
}

// Warning: (ae-internal-missing-underscore) The name "hrTimeMs" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function hrTimeMs(): number;

// Warning: (ae-internal-missing-underscore) The name "HTTP1AuthHeaderFactories" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const HTTP1AuthHeaderFactories: {
    DataAPI(token: string): {
        Token: string;
    };
    DevOpsAPI(token: string): {
        Authorization: string;
    };
};

// Warning: (ae-internal-missing-underscore) The name "HTTP1Strategy" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export class HTTP1Strategy implements HTTPRequestStrategy {
    constructor(_authHeaderFactory: (token: string) => Record<string, string>);
    // (undocumented)
    request(info: InternalHTTPRequestInfo): Promise<GuaranteedAPIResponse>;
}

// Warning: (ae-internal-missing-underscore) The name "HTTP2Strategy" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export class HTTP2Strategy implements HTTPRequestStrategy {
    constructor(baseURL: string);
    // (undocumented)
    close(): void;
    // (undocumented)
    closed: boolean;
    // (undocumented)
    origin: string;
    // (undocumented)
    request(info: InternalHTTPRequestInfo): Promise<GuaranteedAPIResponse>;
}

// Warning: (ae-internal-missing-underscore) The name "HttpClient" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export class HttpClient {
    constructor(options: HTTPClientOptions);
    set applicationToken(token: string);
    // (undocumented)
    get applicationToken(): string;
    // (undocumented)
    readonly baseUrl: string;
    // (undocumented)
    cloneInto<C extends HttpClient>(cls: new (opts: HTTPClientOptions) => C, initialize: (client: Mutable<C>) => void): C;
    // (undocumented)
    close(): void;
    // (undocumented)
    emitter: TypedEmitter<DataAPIClientEvents>;
    // (undocumented)
    isClosed(): boolean | undefined;
    // (undocumented)
    isUsingHttp2(): boolean;
    // (undocumented)
    monitorCommands: boolean;
    // (undocumented)
    protected _request(info: HTTPRequestInfo): Promise<GuaranteedAPIResponse>;
    // (undocumented)
    requestStrategy: HTTPRequestStrategy;
    // (undocumented)
    readonly userAgent: string;
}

// Warning: (ae-internal-missing-underscore) The name "HTTPClientOptions" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface HTTPClientOptions {
    // (undocumented)
    applicationToken: string;
    // (undocumented)
    baseApiPath?: string;
    // (undocumented)
    baseUrl: string;
    // (undocumented)
    caller?: Caller | Caller[];
    // (undocumented)
    emitter: TypedEmitter<DataAPICommandEvents>;
    // (undocumented)
    monitorCommands: boolean;
    // (undocumented)
    requestStrategy?: HTTPRequestStrategy;
    // (undocumented)
    useHttp2?: boolean;
    // (undocumented)
    userAgent?: string;
}

// Warning: (ae-internal-missing-underscore) The name "HttpMethods" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const HttpMethods: {
    Get: string;
    Post: string;
    Delete: string;
};

// Warning: (ae-internal-missing-underscore) The name "HttpMethodStrings" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export type HttpMethodStrings = typeof HttpMethods[keyof typeof HttpMethods];

// Warning: (ae-internal-missing-underscore) The name "HTTPRequestInfo" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface HTTPRequestInfo {
    // (undocumented)
    data?: unknown;
    // (undocumented)
    method: HttpMethodStrings;
    // (undocumented)
    params?: Record<string, string>;
    // (undocumented)
    reviver?: (key: string, value: any) => any;
    // (undocumented)
    timeoutManager: TimeoutManager;
    // (undocumented)
    url: string;
}

// Warning: (ae-internal-missing-underscore) The name "HTTPRequestStrategy" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface HTTPRequestStrategy {
    // (undocumented)
    close?: () => void;
    // (undocumented)
    closed?: boolean;
    // (undocumented)
    request: (params: InternalHTTPRequestInfo) => Promise<GuaranteedAPIResponse>;
}

// @public
export type IdOf<TSchema> = TSchema extends {
    _id: infer Id;
} ? Id : TSchema extends {
    _id?: infer Id;
} ? unknown extends Id ? SomeId : Id : SomeId;

// @public
export type IndexingOptions<Schema extends SomeDoc> = {
    allow: (keyof ToDotNotation<Schema>)[] | ['*'];
    deny?: never;
} | {
    deny: (keyof ToDotNotation<Schema>)[] | ['*'];
    allow?: never;
};

// Warning: (ae-internal-missing-underscore) The name "InsertManyCommand" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface InsertManyCommand {
    // (undocumented)
    insertMany: {
        documents: unknown[];
        options?: {
            ordered?: boolean;
        };
    };
}

// @public
export class InsertManyError extends CumulativeDataAPIError {
    // (undocumented)
    name: string;
    // (undocumented)
    readonly partialResult: InsertManyResult<any>;
}

// @public
export type InsertManyOptions = InsertManyUnorderedOptions | InsertManyOrderedOptions;

// @public
export interface InsertManyOrderedOptions extends WithTimeout {
    chunkSize?: number;
    ordered: true;
    // @alpha (undocumented)
    vectorize?: (string | null | undefined)[];
    vectors?: (number[] | null | undefined)[];
}

// @public
export interface InsertManyResult<Schema> {
    insertedCount: number;
    insertedIds: IdOf<Schema>[];
}

// @public
export interface InsertManyUnorderedOptions extends WithTimeout {
    chunkSize?: number;
    concurrency?: number;
    ordered?: false;
    // @alpha (undocumented)
    vectorize?: (string | null | undefined)[];
    vectors?: (number[] | null | undefined)[];
}

// Warning: (ae-internal-missing-underscore) The name "InsertOneCommand" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface InsertOneCommand {
    // (undocumented)
    insertOne: {
        document: object;
    };
}

// @public (undocumented)
export interface InsertOneModel<TSchema extends SomeDoc> {
    // (undocumented)
    document: TSchema;
}

// @public
export interface InsertOneOptions extends WithTimeout {
    vector?: number[];
    // @alpha (undocumented)
    vectorize?: string;
}

// @public
export interface InsertOneResult<Schema> {
    insertedId: IdOf<Schema>;
}

// Warning: (ae-internal-missing-underscore) The name "InternalFindOptions" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface InternalFindOptions {
    // (undocumented)
    includeSimilarity?: boolean;
    // (undocumented)
    limit?: number;
    // (undocumented)
    pagingState?: string;
    // (undocumented)
    skip?: number;
}

// Warning: (ae-internal-missing-underscore) The name "InternalGetMoreCommand" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface InternalGetMoreCommand {
    // (undocumented)
    find: {
        filter?: Record<string, unknown>;
        options?: InternalFindOptions;
        sort?: Record<string, unknown>;
        projection?: Record<string, unknown>;
    };
}

// Warning: (ae-internal-missing-underscore) The name "InternalHTTPRequestInfo" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface InternalHTTPRequestInfo extends HTTPRequestInfo {
    // (undocumented)
    method: HttpMethodStrings;
    // (undocumented)
    token: string;
    // (undocumented)
    userAgent: string;
}

// @public (undocumented)
export interface InternalRootClientOpts {
    // (undocumented)
    adminOptions: AdminSpawnOptions & {
        adminToken: string;
        monitorCommands: boolean;
    };
    // (undocumented)
    caller?: Caller | Caller[];
    // (undocumented)
    dbOptions: DbSpawnOptions & {
        token: string;
        monitorCommands: boolean;
    };
    // (undocumented)
    emitter: TypedEmitter<DataAPIClientEvents>;
}

// @public
export type InternalUpdateResult<Schema extends SomeDoc, N extends number> = (GuaranteedUpdateOptions<N> & UpsertedUpdateOptions<Schema>) | (GuaranteedUpdateOptions<N> & NoUpsertUpdateOptions);

// Warning: (ae-internal-missing-underscore) The name "IsAny" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export type IsAny<T> = true extends false & T ? true : false;

// Warning: (ae-internal-missing-underscore) The name "IsDate" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export type IsDate<T> = IsAny<T> extends true ? true : T extends Date | {
    $date: number;
} ? true : false;

// Warning: (ae-internal-missing-underscore) The name "IsNum" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export type IsNum<T> = number extends T ? true : bigint extends T ? true : false;

// Warning: (ae-internal-missing-underscore) The name "isUndefOrNull" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function isUndefOrNull<T>(x: T | null | undefined): x is null | undefined;

// Warning: (ae-internal-missing-underscore) The name "ListCollectionsCommand" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface ListCollectionsCommand {
    // (undocumented)
    findCollections: {
        options: {
            explain: boolean;
        };
    };
}

// @public
export interface ListCollectionsOptions extends WithTimeout, WithNamespace {
    nameOnly?: boolean;
}

// @public
export interface ListDatabasesOptions extends WithTimeout {
    include?: DatabaseStatusFilter;
    limit?: number;
    provider?: DatabaseCloudProviderFilter;
    skip?: number;
}

// Warning: (ae-internal-missing-underscore) The name "LongRunningRequestInfo" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface LongRunningRequestInfo {
    // (undocumented)
    defaultPollInterval: number;
    // (undocumented)
    id: string | ((resp: AxiosResponse) => string);
    // (undocumented)
    legalStates: string[];
    // (undocumented)
    options: AdminBlockingOptions | undefined;
    // (undocumented)
    target: string;
}

// @public
export type MaybeId<T> = NoId<T> & {
    _id?: IdOf<T>;
};

// Warning: (ae-internal-missing-underscore) The name "mkAdmin" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function mkAdmin(rootOpts: InternalRootClientOpts, options?: AdminSpawnOptions): AstraAdmin;

// Warning: (ae-internal-missing-underscore) The name "mkDb" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function mkDb(rootOpts: InternalRootClientOpts, endpointOrId: string, regionOrOptions?: string | DbSpawnOptions, maybeOptions?: DbSpawnOptions): Db;

// Warning: (ae-internal-missing-underscore) The name "mkDbAdmin" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function mkDbAdmin(db: Db, httpClient: HttpClient, rootOpts: InternalRootClientOpts, options?: AdminSpawnOptions): AstraDbAdmin;

// Warning: (ae-forgotten-export) The symbol "InferPartialResult" needs to be exported by the entry point index.d.ts
// Warning: (ae-internal-missing-underscore) The name "mkRespErrorFromResponse" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const mkRespErrorFromResponse: <E extends DataAPIResponseError>(err: new (message: string, errorDescriptors: DataAPIErrorDescriptor[], detailedErrorDescriptors: DataAPIDetailedErrorDescriptor[]) => E, command: Record<string, any>, raw: RawDataAPIResponse, partialResult?: InferPartialResult<E>) => E;

// Warning: (ae-internal-missing-underscore) The name "mkRespErrorFromResponses" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const mkRespErrorFromResponses: <E extends DataAPIResponseError>(err: new (message: string, errorDescriptors: DataAPIErrorDescriptor[], detailedErrorDescriptors: DataAPIDetailedErrorDescriptor[]) => E, commands: Record<string, any>[], raw: RawDataAPIResponse[], partialResult?: InferPartialResult<E>) => E;

// @public
export interface ModifyResult<Schema extends SomeDoc> {
    ok: number;
    value: WithId<Schema> | null;
}

// Warning: (ae-internal-missing-underscore) The name "Mutable" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export type Mutable<T> = {
    -readonly [P in keyof T]: T[P];
};

// @public
export interface NoBlockingOptions extends WithTimeout {
    blocking: false;
}

// @public
export type NoId<Doc> = Omit<Doc, '_id'>;

// @public
export interface NoUpsertUpdateOptions {
    upsertedCount: 0;
    upsertedId?: never;
}

// @public
export class ObjectId {
    constructor(id?: string, validate?: boolean);
    equals(other: unknown): boolean;
    getTimestamp(): Date;
    // (undocumented)
    inspect(): string;
    // (undocumented)
    toJSON(): {
        $objectId: string;
    };
    toString(): string;
}

// @public
export interface PollBlockingOptions extends WithTimeout {
    blocking?: true;
    pollInterval?: number;
}

// @public
export type Projection = Record<string, 1 | 0 | true | false | ProjectionSlice>;

// @public
export interface ProjectionSlice {
    // (undocumented)
    $slice: number | [number, number];
}

// @public (undocumented)
export interface RawDataAPIResponse {
    // (undocumented)
    data?: Record<string, any>;
    // (undocumented)
    errors?: any[];
    // (undocumented)
    status?: Record<string, any>;
}

// Warning: (ae-internal-missing-underscore) The name "replaceAstraUrlIdAndRegion" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function replaceAstraUrlIdAndRegion(uri: string, id: string, region: string): string;

// @public (undocumented)
export interface ReplaceOneModel<TSchema extends SomeDoc> {
    // (undocumented)
    filter: Filter<TSchema>;
    // (undocumented)
    replacement: TSchema;
    // (undocumented)
    upsert?: boolean;
}

// @public
export interface ReplaceOneOptions extends WithTimeout {
    sort?: Sort;
    upsert?: boolean;
    vector?: number[];
    // @alpha (undocumented)
    vectorize?: string;
}

// @public
export type ReplaceOneResult<Schema extends SomeDoc> = InternalUpdateResult<Schema, 0 | 1>;

// Warning: (ae-internal-missing-underscore) The name "replacer" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function replacer(this: any, key: string, value: any): any;

// Warning: (ae-internal-missing-underscore) The name "reviver" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function reviver(_: string, value: any): any;

// @public
export interface RootClientOptions {
    adminOptions?: AdminSpawnOptions;
    caller?: Caller | Caller[];
    dbOptions?: DbSpawnOptions;
}

// @public
export interface RunCommandOptions extends WithNamespace, WithTimeout {
    collection?: string;
}

// @public
export type SomeDoc = Record<string, any>;

// @public (undocumented)
export type SomeId = string | number | bigint | boolean | Date | UUID | ObjectId;

// @public
export type Sort = Record<string, 1 | -1> | {
    $vector: number[];
} | {
    $vectorize: string;
};

// @public
export type StrictFilter<Schema extends SomeDoc> = {
    [K in keyof ToDotNotation<NoId<Schema>>]?: FilterExpr<ToDotNotation<NoId<Schema>>[K]>;
} & {
    _id?: FilterExpr<IdOf<Schema>>;
    $and?: StrictFilter<Schema>[];
    $or?: StrictFilter<Schema>[];
    $not?: StrictFilter<Schema>;
};

// @public
export type StrictProjection<Schema extends SomeDoc> = {
    [K in keyof ToDotNotation<WithId<Schema>>]?: any[] extends (ToDotNotation<WithId<Schema>>)[K] ? 1 | 0 | true | false | ProjectionSlice : 1 | 0 | true | false;
};

// @public
export type StrictSort<Schema extends SomeDoc> = {
    [K in keyof ToDotNotation<WithId<Schema>>]?: 1 | -1;
} | {
    $vector: number[];
} | {
    $vectorize: string;
};

// @public
export interface StrictUpdateFilter<Schema extends SomeDoc, InNotation = ToDotNotation<Schema>> {
    $addToSet?: StrictPush<InNotation>;
    // Warning: (ae-forgotten-export) The symbol "CurrentDate" needs to be exported by the entry point index.d.ts
    $currentDate?: CurrentDate<InNotation>;
    // Warning: (ae-forgotten-export) The symbol "StrictNumberUpdate" needs to be exported by the entry point index.d.ts
    $inc?: StrictNumberUpdate<InNotation>;
    $max?: StrictNumberUpdate<InNotation> | StrictDateUpdate<InNotation>;
    // Warning: (ae-forgotten-export) The symbol "StrictDateUpdate" needs to be exported by the entry point index.d.ts
    $min?: StrictNumberUpdate<InNotation> | StrictDateUpdate<InNotation>;
    $mul?: StrictNumberUpdate<InNotation>;
    // Warning: (ae-forgotten-export) The symbol "StrictPop" needs to be exported by the entry point index.d.ts
    $pop?: StrictPop<InNotation>;
    // Warning: (ae-forgotten-export) The symbol "StrictPush" needs to be exported by the entry point index.d.ts
    $push?: StrictPush<InNotation>;
    // Warning: (ae-forgotten-export) The symbol "Rename" needs to be exported by the entry point index.d.ts
    $rename?: Rename<InNotation>;
    $set?: Partial<InNotation>;
    $setOnInsert?: Partial<InNotation>;
    // Warning: (ae-forgotten-export) The symbol "Unset" needs to be exported by the entry point index.d.ts
    $unset?: Unset<InNotation>;
}

// Warning: (ae-internal-missing-underscore) The name "takeWhile" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function takeWhile<T>(arr: T[], pred: (x: T) => boolean): T[];

// Warning: (ae-forgotten-export) The symbol "Merge" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "_ToDotNotation" needs to be exported by the entry point index.d.ts
//
// @public
export type ToDotNotation<Schema extends SomeDoc> = Merge<_ToDotNotation<Schema, ''>>;

// @public
export class TooManyDocsToCountError extends DataAPIError {
    constructor(limit: number, hitServerLimit: boolean);
    // (undocumented)
    readonly hitServerLimit: boolean;
    // (undocumented)
    readonly limit: number;
    // (undocumented)
    name: string;
}

// @public
export type TypeErr<S> = unknown & {
    [__error]: S;
};

// @public
export interface UpdateFilter<Schema extends SomeDoc> {
    $addToSet?: Push<Schema> & SomeDoc;
    $currentDate?: CurrentDate<Schema> & Record<string, boolean>;
    // Warning: (ae-forgotten-export) The symbol "NumberUpdate" needs to be exported by the entry point index.d.ts
    $inc?: NumberUpdate<Schema> & Record<string, number>;
    $max?: (NumberUpdate<Schema> | DateUpdate<Schema>) & Record<string, number | bigint | Date | {
        $date: number;
    }>;
    // Warning: (ae-forgotten-export) The symbol "DateUpdate" needs to be exported by the entry point index.d.ts
    $min?: (NumberUpdate<Schema> | DateUpdate<Schema>) & Record<string, number | bigint | Date | {
        $date: number;
    }>;
    $mul?: StrictNumberUpdate<Schema> & Record<string, number>;
    // Warning: (ae-forgotten-export) The symbol "Pop" needs to be exported by the entry point index.d.ts
    $pop?: Pop<Schema> & Record<string, number>;
    // Warning: (ae-forgotten-export) The symbol "Push" needs to be exported by the entry point index.d.ts
    $push?: Push<Schema> & SomeDoc;
    $rename?: Record<string, string>;
    $set?: Partial<Schema> & SomeDoc;
    $setOnInsert?: Partial<Schema> & SomeDoc;
    $unset?: Record<string, ''>;
}

// Warning: (ae-internal-missing-underscore) The name "UpdateManyCommand" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface UpdateManyCommand {
    // (undocumented)
    updateMany: {
        filter: Record<string, unknown>;
        update: Record<string, any>;
        options: UpdateManyOptions & {
            pagingState?: string;
        };
    };
}

// @public
export class UpdateManyError extends CumulativeDataAPIError {
    // (undocumented)
    name: string;
    // (undocumented)
    readonly partialResult: UpdateManyResult<SomeDoc>;
}

// @public (undocumented)
export interface UpdateManyModel<TSchema extends SomeDoc> {
    // (undocumented)
    filter: Filter<TSchema>;
    // (undocumented)
    update: UpdateFilter<TSchema>;
    // (undocumented)
    upsert?: boolean;
}

// @public
export interface UpdateManyOptions extends WithTimeout {
    upsert?: boolean;
}

// @public
export type UpdateManyResult<Schema extends SomeDoc> = InternalUpdateResult<Schema, number>;

// Warning: (ae-internal-missing-underscore) The name "UpdateOneCommand" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export interface UpdateOneCommand {
    // (undocumented)
    updateOne: {
        filter: Record<string, unknown>;
        update: Record<string, any>;
        sort?: Sort;
        options: {
            upsert?: boolean;
        };
    };
}

// @public (undocumented)
export interface UpdateOneModel<TSchema extends SomeDoc> {
    // (undocumented)
    filter: Filter<TSchema>;
    // (undocumented)
    update: UpdateFilter<TSchema>;
    // (undocumented)
    upsert?: boolean;
}

// @public
export interface UpdateOneOptions extends WithTimeout {
    sort?: Sort;
    upsert?: boolean;
    vector?: number[];
    // @alpha (undocumented)
    vectorize?: string;
}

// @public
export type UpdateOneResult<Schema extends SomeDoc> = InternalUpdateResult<Schema, 0 | 1>;

// @public
export interface UpsertedUpdateOptions<Schema extends SomeDoc> {
    upsertedCount: 1;
    upsertedId: IdOf<Schema>;
}

// @public
export class UUID {
    constructor(uuid: string, validate?: boolean);
    equals(other: unknown): boolean;
    getTimestamp(): Date | undefined;
    // (undocumented)
    inspect(): string;
    // (undocumented)
    toJSON(): {
        $uuid: string;
    };
    toString(): string;
    static v4(): UUID;
    static v7(): UUID;
    readonly version: number;
}

// Warning: (ae-internal-missing-underscore) The name "validateAdminOpts" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function validateAdminOpts(opts: AdminSpawnOptions | undefined): void;

// Warning: (ae-internal-missing-underscore) The name "validateDbOpts" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function validateDbOpts(opts: DbSpawnOptions | undefined): void;

// Warning: (ae-internal-missing-underscore) The name "validateOption" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function validateOption<T = unknown>(name: string, obj: unknown, type: string, test?: (obj: T) => void): void;

// @public
export interface VectorDoc {
    $vector?: number[];
}

// @alpha (undocumented)
export interface VectorizeServiceOptions {
    // (undocumented)
    modelName: string;
    // (undocumented)
    provider: string;
}

// @public
export interface VectorOptions {
    dimension?: number;
    metric?: 'cosine' | 'euclidean' | 'dot_product';
    // @alpha (undocumented)
    service?: VectorizeServiceOptions;
}

// @public
export type WithId<T> = NoId<T> & {
    _id: IdOf<T>;
};

// @public
export interface WithNamespace {
    namespace?: string;
}

// @public
export type WithSim<T, GetSim extends boolean> = GetSim extends true ? Omit<T, '$similarity'> & {
    $similarity: number;
} : Omit<T, '$similarity'> & {
    $similarity?: never;
};

// @public
export interface WithTimeout {
    maxTimeMS?: number;
}

// (No @packageDocumentation comment for this package)

```
